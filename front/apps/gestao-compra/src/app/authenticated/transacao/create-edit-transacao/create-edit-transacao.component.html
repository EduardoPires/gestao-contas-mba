<div class="content-modal">
    <div class="header-modal">
        @if(!data?.id) {
        <p class="titulo-sublinhado mb-2">Nova transação</p>
        }@else {
        <p class="titulo-sublinhado mb-2">Editar transação</p>
        }
    </div>
    <div class="body-modal" [formGroup]="form">
        <div class="form-row">
            <div class="col-6">
                <mat-form-field class="example-full-width custom-form-field" appearance="outline">
                    <mat-label>Tipo</mat-label>
                    <mat-select formControlName="tipoTransacao">
                        <mat-option [value]="0">Entrada</mat-option>
                        <mat-option [value]="1">Saída</mat-option>
                    </mat-select>
                    <mat-error>{{form.tipoTransacao?.errors! | validationMessage}}</mat-error>
                </mat-form-field>
            </div>
        </div>
        <div class="form-row">
            <div class="col-12">
                <mat-form-field class="example-full-width custom-form-field" appearance="outline">
                    <mat-label>Categoria</mat-label>
                    <mat-select formControlName="categoriaId">
                        @for (categoria of categorias; track categoria) {
                        <mat-option [value]="categoria.id">{{categoria.nome}}</mat-option>
                        }
                    </mat-select>
                    <mat-error>{{form.categoriaId?.errors! | validationMessage}}</mat-error>
                </mat-form-field>
            </div>
        </div>
        <div class="form-row">
            <div class="col-6">
                <mat-form-field class="example-full-width custom-form-field" appearance="outline">
                    <mat-label>Valor R$</mat-label>
                    <input matInput formControlName="valor" />
                    <mat-error>{{form.valor?.errors! | validationMessage}}</mat-error>
                </mat-form-field>
            </div>
        </div>
        <div class="form-row">
            <div class="col-6">
                <mat-form-field class="example-full-width custom-form-field" appearance="outline">
                    <mat-label>Data</mat-label>
                    <input matInput [matDatepicker]="picker" formControlName="data">
                    <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                    <mat-error>{{form.data?.errors! | validationMessage}}</mat-error>
                </mat-form-field>
            </div>
        </div>
        <div class="form-row">
            <div class="col-12">
                <mat-form-field class="example-full-width custom-form-field" appearance="outline">
                    <mat-label>Descrição</mat-label>
                    <textarea matInput placeholder="" formControlName="descricao"></textarea>
                </mat-form-field>
            </div>
        </div>



        <div class="footer-modal">
            <button mat-raised-button (click)="voltar()">Voltar</button>
            @if(!data?.id) {
                <button class="ms-3" mat-flat-button (click)="salvar()">Criar transação</button>
                }@else {
                    <button class="ms-3" mat-flat-button (click)="salvar()">Salvar transação</button>
                }
        </div>
    </div>