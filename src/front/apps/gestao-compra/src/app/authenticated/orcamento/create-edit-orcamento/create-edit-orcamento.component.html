<div class="content-modal">
  <div class="header-modal">
    @if(!data?.id) {
    <p class="titulo-sublinhado mb-2">Novo orçamento</p>
    }@else {
    <p class="titulo-sublinhado mb-2">Editar orámento</p>
    }
  </div>
  <div class="body-modal" [formGroup]="form">
    <div class="form-row">
      <div class="col-12">
        <mat-form-field class="example-full-width custom-form-field" appearance="outline">
          <mat-label>Limite</mat-label>
          <span matTextPrefix>R$</span>
          <input type="number" matInput formControlName="limite">
          <mat-error>{{form.limite?.errors! | validationMessage}}</mat-error>
        </mat-form-field>
      </div>


      <mat-form-field class="col-12 example-full-width custom-form-field mt-3" appearance="outline">
        <mat-label>Categoria</mat-label>
        <mat-select formControlName="categoriaId">
          @for (categoria of categorias$ | async; track categoria) {
          <mat-option [value]="categoria.id">{{categoria.nome}}</mat-option>
          }
        </mat-select>
        <mat-error>{{form.categoriaId?.errors! | validationMessage}}</mat-error>
      </mat-form-field>
  </div>

  <div class="footer-modal">
    <button mat-raised-button (click)="voltar()">Voltar</button>
    <!-- <button class="ms-3" mat-flat-button [disabled]="!form.valid" (click)="salvar()">Criar categoria</button> -->
    <button class="ms-3" mat-flat-button [disabled]="!form.valid" (click)="salvar()">Salvar orçamento</button>
  </div>
</div>
